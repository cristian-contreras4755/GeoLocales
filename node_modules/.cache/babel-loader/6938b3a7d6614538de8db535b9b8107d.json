{"remainingRequest":"D:\\IDSI ARCHIVOS DE TRABAJO\\WEB\\GEOLOCALES\\GeoLocales\\node_modules\\thread-loader\\dist\\cjs.js!D:\\IDSI ARCHIVOS DE TRABAJO\\WEB\\GEOLOCALES\\GeoLocales\\node_modules\\babel-loader\\lib\\index.js!D:\\IDSI ARCHIVOS DE TRABAJO\\WEB\\GEOLOCALES\\GeoLocales\\src\\store\\index.js","dependencies":[{"path":"D:\\IDSI ARCHIVOS DE TRABAJO\\WEB\\GEOLOCALES\\GeoLocales\\src\\store\\index.js","mtime":1589055082276},{"path":"D:\\IDSI ARCHIVOS DE TRABAJO\\WEB\\GEOLOCALES\\GeoLocales\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1589061007294},{"path":"D:\\IDSI ARCHIVOS DE TRABAJO\\WEB\\GEOLOCALES\\GeoLocales\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1589061024206},{"path":"D:\\IDSI ARCHIVOS DE TRABAJO\\WEB\\GEOLOCALES\\GeoLocales\\node_modules\\babel-loader\\lib\\index.js","mtime":1589061007080}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgVnVleCBmcm9tICd2dWV4JzsKaW1wb3J0IGp3dERlY29kZSBmcm9tICdqd3QtZGVjb2RlJzsKaW1wb3J0IHJvdXRlciBmcm9tICcuLi9yb3V0ZXIvaW5kZXgnOyAvLyBpbXBvcnRhbW9zIGVsIGVucnV0YWRvciBwYXJhIGVudmlhciAKClZ1ZS51c2UoVnVleCk7CmV4cG9ydCBkZWZhdWx0IG5ldyBWdWV4LlN0b3JlKHsKICBzdGF0ZTogewogICAgdG9rZW46IG51bGwsCiAgICB1c3VhcmlvOiBudWxsLAogICAgLy8saXNBdXRoZW50aWNhdGVkOmZhbHNlCiAgICBib2RlZ2E6IFtdLAogICAgLy9kYXRvcyBhIHBhc2FyICAgZGVzZGUgZWwgY29tcG9uZW50ZSBGaWx0cm9NYXN0ZXIgYSAgY3VhbHF1aWVyIGNvbXBvbmVudGUKICAgIHByb2R1Y3RvOiBbXSAvL2RhdG9zIGEgcGFzYXIgICBkZXNkZSBlbCBjb21wb25lbnRlIEZpbHRyb01hc3RlciBhICBjdWFscXVpZXIgY29tcG9uZW50ZQoKICB9LAogIG11dGF0aW9uczogewogICAgc2V0VG9rZW46IGZ1bmN0aW9uIHNldFRva2VuKHN0YXRlLCB0b2tlbikgewogICAgICBzdGF0ZS50b2tlbiA9IHRva2VuOwogICAgfSwKICAgIHNldFVzdWFyaW86IGZ1bmN0aW9uIHNldFVzdWFyaW8oc3RhdGUsIHVzdWFyaW8pIHsKICAgICAgc3RhdGUudXN1YXJpbyA9IHVzdWFyaW87CiAgICB9LAogICAgLy8gc2V0ZWFtb3MgIGVuIHVuYSBmdW5jaW9uIGxvcyBvYmpldG9zIC8vIG11dGFtb3MgZWwgb2JqZXRvIAogICAgc2V0Qm9kZWdhOiBmdW5jdGlvbiBzZXRCb2RlZ2Eoc3RhdGUsIGJvZGVnYSkgewogICAgICBzdGF0ZS5ib2RlZ2EgPSBib2RlZ2E7CiAgICB9LAogICAgc2V0UHJvZHVjdG86IGZ1bmN0aW9uIHNldFByb2R1Y3RvKHN0YXRlLCBwcm9kdWN0bykgewogICAgICBzdGF0ZS5wcm9kdWN0byA9IHByb2R1Y3RvOwogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgZ3VhcmRhclRva2VuOiBmdW5jdGlvbiBndWFyZGFyVG9rZW4oX3JlZiwgdG9rZW4pIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICBjb21taXQoInNldFRva2VuIiwgdG9rZW4pOwogICAgICBjb21taXQoInNldFVzdWFyaW8iLCBqd3REZWNvZGUodG9rZW4pLnVzdWFyaW8pOwogICAgICAvKg0KICAgICAgICAgICAgbGV0IHRva2VuX2RlY29kaWZpY2Fkbz1qd3REZWNvZGUodG9rZW4pDQogICAgICAgICAgICBjb25zb2xlLmxvZyhqd3REZWNvZGUodG9rZW4pKTsNCiAgICAgICAgICAgICovCgogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgidG9rZW4iLCB0b2tlbik7CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ1c3VhcmlvIiwgand0RGVjb2RlKHRva2VuKS51c3VhcmlvKTsKICAgIH0sCiAgICBhdXRvTG9naW46IGZ1bmN0aW9uIGF1dG9Mb2dpbihfcmVmMikgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjIuY29tbWl0OwogICAgICB2YXIgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidG9rZW4iKTsKCiAgICAgIGlmICh0b2tlbikgewogICAgICAgIC8vdmFsaWRhciBzaSBlbCB0b2tlbiBkZSBxdWUgdGllbmUgYWxtYWNlbmFkbyBlbiBsb2NhbCBzdG9yYWdlIHNpZ3VlIHZpZ2VudGUuCiAgICAgICAgLy9lbiBjYXNvIHNpZ2EgYWN0aXZhICBkZWphbW9zIHBhc2FyIGFsIG1lbnUgcHJpbmNpcGFsIGNhc28gY29udHJhcmlvICBib3JyYW1vcyBsb3MgZGF0b3MgYWxtYWNlbmFkb3MgCiAgICAgICAgLy8gZGUgbG9jYWwgc3RvcmFnZSAgeSBsZSBtYW5kYW1vcyBhIGxhICBwYW50YWxsYSBkZSAKICAgICAgICAvLyBwZW5kaWVudGUKCiAgICAgICAgLyoNCiAgICAgICAgICAgICAgY29tbWl0KCJzZXRUb2tlbiIsIHRva2VuKQ0KICAgICAgICAgICAgICBjb21taXQoInNldFVzdWFyaW8iLCBqd3REZWNvZGUodG9rZW4pLnVzdWFyaW8pOw0KICAgICAgICAgICAgICByb3V0ZXIucHVzaCh7bmFtZTonTWVudSd9KTsgICAgDQogICAgICAgICovCiAgICAgICAgdmFyIGZjID0gand0RGVjb2RlKHRva2VuKS5uYmY7CiAgICAgICAgdmFyIGZ2ID0gand0RGVjb2RlKHRva2VuKS5leHA7CiAgICAgICAgdmFyIGZhID0gbmV3IERhdGUoKS5nZXRUaW1lKCkgLyAxMDAwOwoKICAgICAgICBpZiAoIShmdiA+IGZhKSkgewogICAgICAgICAgY29uc29sZS5sb2coJ3Rva2VuIHZlbmNpZG8nKTsKICAgICAgICAgIGNvbW1pdCgic2V0VG9rZW4iLCBudWxsKTsKICAgICAgICAgIGNvbW1pdCgic2V0VXN1YXJpbyIsIG51bGwpOwogICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oInRva2VuIik7CiAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgidXN1YXJpbyIpOwogICAgICAgICAgcm91dGVyLnB1c2goewogICAgICAgICAgICBuYW1lOiAnTG9naW4nCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgLyoNCiAgICAgICAgICAgIGlmKGZ2PmZhKXsNCiAgICAgICAgICAgICAgY29uc29sZS5sb2coJyBhIG1lbnUnKQ0KICAgICAgICAgICAgICBjb21taXQoInNldFRva2VuIiwgdG9rZW4pDQogICAgICAgICAgICAgIGNvbW1pdCgic2V0VXN1YXJpbyIsIGp3dERlY29kZSh0b2tlbikudXN1YXJpbyk7DQogICAgICAgICAgICAgIHJvdXRlci5wdXNoKHtuYW1lOidNZW51J30pOyAgICAgDQogICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3Rva2VuIHZlbmNpZG8nKQ0KICAgICAgICAgICAgICBjb21taXQoInNldFRva2VuIiwgbnVsbCkNCiAgICAgICAgICAgICAgY29tbWl0KCJzZXRVc3VhcmlvIiwgbnVsbCkNCiAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oInRva2VuIikNCiAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oInVzdWFyaW8iKQ0KICAgICAgICAgICAgICByb3V0ZXIucHVzaCh7bmFtZTogJ0xvZ2luJ30pDQogICAgICAgICAgICB9IA0KICAgICAgICAgICAgKi8KCiAgICAgIH0gZWxzZSB7CiAgICAgICAgcm91dGVyLnB1c2goewogICAgICAgICAgbmFtZTogJ0xvZ2luJwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgc2FsaXI6IGZ1bmN0aW9uIHNhbGlyKF9yZWYzKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmMy5jb21taXQ7CiAgICAgIGNvbW1pdCgic2V0VG9rZW4iLCBudWxsKTsKICAgICAgY29tbWl0KCJzZXRVc3VhcmlvIiwgbnVsbCk7CiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCJ0b2tlbiIpOwogICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgidXN1YXJpbyIpOwogICAgICByb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogJ0xvZ2luJwogICAgICB9KTsKICAgIH0sCiAgICAvLyBndWFyZGFtb3MgY2FtYmlvIGRlIGRlIGxhIG11dGFjaW9uIAogICAgZ3VhcmRhclByb2R1Y3RvOiBmdW5jdGlvbiBndWFyZGFyUHJvZHVjdG8oX3JlZjQsIHByb2R1Y3RvKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmNC5jb21taXQ7CiAgICAgIGNvbW1pdCgic2V0UHJvZHVjdG8iLCBwcm9kdWN0byk7CiAgICB9LAogICAgZ3VhcmRhckJvZGVnYTogZnVuY3Rpb24gZ3VhcmRhckJvZGVnYShfcmVmNSwgYm9kZWdhKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmNS5jb21taXQ7CiAgICAgIGNvbW1pdCgic2V0Qm9kZWdhIiwgYm9kZWdhKTsKICAgIH0KICB9LAogIG1vZHVsZXM6IHsKICAgIGRvbmVUb2RvczogZnVuY3Rpb24gZG9uZVRvZG9zKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS50b2Rvcy5maWx0ZXIoZnVuY3Rpb24gKHRvZG8pIHsKICAgICAgICByZXR1cm4gdG9kby5kb25lOwogICAgICB9KTsKICAgIH0KICB9Cn0pOw=="},{"version":3,"sources":["D:/IDSI ARCHIVOS DE TRABAJO/WEB/GEOLOCALES/GeoLocales/src/store/index.js"],"names":["Vue","Vuex","jwtDecode","router","use","Store","state","token","usuario","bodega","producto","mutations","setToken","setUsuario","setBodega","setProducto","actions","guardarToken","commit","localStorage","setItem","autoLogin","getItem","fc","nbf","fv","exp","fa","Date","getTime","console","log","removeItem","push","name","salir","guardarProducto","guardarBodega","modules","doneTodos","todos","filter","todo","done"],"mappings":"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","sourcesContent":["import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nimport jwtDecode from 'jwt-decode'\r\nimport router from '../router/index'// importamos el enrutador para enviar \r\n\r\nVue.use(Vuex)\r\n\r\nexport default new Vuex.Store({\r\n  state: {\r\n    token: null,\r\n    usuario: null,//,isAuthenticated:false\r\n    bodega:[],//datos a pasar   desde el componente FiltroMaster a  cualquier componente\r\n    producto:[],//datos a pasar   desde el componente FiltroMaster a  cualquier componente\r\n  },\r\n  mutations: {\r\n    setToken(state,token){\r\n      state.token=token\r\n    },\r\n    setUsuario (state,usuario){\r\n      state.usuario=usuario\r\n    },\r\n    // seteamos  en una funcion los objetos // mutamos el objeto \r\n      setBodega(state,bodega){\r\n        state.bodega=bodega\r\n      },\r\n      setProducto(state,producto){      \r\n        state.producto=producto\r\n      }\r\n\r\n  },\r\n  actions: {\r\n    guardarToken({commit},token){\r\n      commit(\"setToken\", token)\r\n      commit(\"setUsuario\", jwtDecode(token).usuario)\r\n/*\r\n      let token_decodificado=jwtDecode(token)\r\n      console.log(jwtDecode(token));\r\n      */\r\n      localStorage.setItem(\"token\", token)\r\n      localStorage.setItem(\"usuario\", jwtDecode(token).usuario)\r\n    },\r\n    autoLogin({commit}){\r\n      let token = localStorage.getItem(\"token\")\r\n      if (token){\r\n\r\n      //validar si el token de que tiene almacenado en local storage sigue vigente.\r\n      //en caso siga activa  dejamos pasar al menu principal caso contrario  borramos los datos almacenados \r\n      // de local storage  y le mandamos a la  pantalla de \r\n      // pendiente\r\n/*\r\n      commit(\"setToken\", token)\r\n      commit(\"setUsuario\", jwtDecode(token).usuario);\r\n      router.push({name:'Menu'});    \r\n*/\r\n\r\n       let fc=jwtDecode(token).nbf;\r\n       let fv=jwtDecode(token).exp;\r\n       let fa= new Date().getTime()/1000;\r\n\r\n\r\n            if(!(fv>fa)){\r\n              console.log('token vencido')\r\n              commit(\"setToken\", null)\r\n              commit(\"setUsuario\", null)\r\n              localStorage.removeItem(\"token\")\r\n              localStorage.removeItem(\"usuario\")\r\n              router.push({name: 'Login'})        \r\n            }\r\n\r\n    /*\r\n        if(fv>fa){\r\n          console.log(' a menu')\r\n          commit(\"setToken\", token)\r\n          commit(\"setUsuario\", jwtDecode(token).usuario);\r\n          router.push({name:'Menu'});     \r\n        }else{\r\n          console.log('token vencido')\r\n          commit(\"setToken\", null)\r\n          commit(\"setUsuario\", null)\r\n          localStorage.removeItem(\"token\")\r\n          localStorage.removeItem(\"usuario\")\r\n          router.push({name: 'Login'})\r\n        } \r\n        */\r\n\r\n      }else{\r\n\r\n        router.push({name:'Login'});\r\n      }\r\n    \r\n    },\r\n    salir({commit}){\r\n      commit(\"setToken\", null)\r\n      commit(\"setUsuario\", null)\r\n      localStorage.removeItem(\"token\")\r\n      localStorage.removeItem(\"usuario\")\r\n      router.push({name: 'Login'})\r\n    },\r\n\r\n    // guardamos cambio de de la mutacion \r\n    guardarProducto({commit},producto){\r\n      commit(\"setProducto\", producto);\r\n    },\r\n    guardarBodega({commit},bodega){\r\n      commit(\"setBodega\", bodega);\r\n    }\r\n\r\n    \r\n  },\r\n  modules: {\r\n    doneTodos: state => {\r\n      return state.todos.filter(todo => todo.done)\r\n    }\r\n  }\r\n\r\n})\r\n"]}]}